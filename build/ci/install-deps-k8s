#!/usr/bin/env bash
set -e

if [ -z "${KUBE_VERSION}" ]; then
    KUBERNETES_VERSION=${KUBE_VERSION}
else
    KUBERNETES_VERSION=v1.14.0
fi

# install conntrack needed for kubernetes 1.18
sudo apt-get install -y conntrack

# kubectl
echo "Installing kubectl"
#KUBECTL_VERSION="v1.14.0"
curl -Lo kubectl "https://storage.googleapis.com/kubernetes-release/release/${KUBERNETES_VERSION}/bin/linux/amd64/kubectl"
chmod +x kubectl
sudo mv kubectl /usr/local/bin/

# Minikube
echo "Installing minikube"
curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
chmod +x minikube
sudo mv minikube /usr/local/bin/
