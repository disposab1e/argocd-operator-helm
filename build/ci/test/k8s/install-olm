#!/usr/bin/env bash
set -e

# Operator Lifecycle Manager
echo "======================================================"
echo "Installing Operator Lifecycle Manager ${OLM_VERSION}"
echo "======================================================"
curl -sL https://github.com/operator-framework/operator-lifecycle-manager/releases/download/${OLM_VERSION}/install.sh | bash -s ${OLM_VERSION}

# Delete "operatorhubio-catalog" cause we provide our own catalogue
echo "======================================================"
echo "Delete Community Catalogue from operatohub.io"
echo "======================================================"
kubectl delete catalogsource operatorhubio-catalog -n olm
